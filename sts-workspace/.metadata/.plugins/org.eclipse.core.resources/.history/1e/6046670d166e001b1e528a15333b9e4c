package com.lyncwork.services.dropbox.client.dropbox.client.teamfolder;

import org.springframework.cloud.openfeign.FeignClient;
import org.springframework.http.MediaType;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestHeader;

import com.lyncwork.services.hellosign.client.dropbox.config.CustomInputStream;
import com.lyncwork.services.hellosign.client.dropbox.config.RequestDropboxAPIConfig;
import com.lyncwork.services.hellosign.client.dropbox.model.response.teamfolder.content.ContentUploadResponse;

import java.util.Map;

@FeignClient(url = "${dropbox.api.content.url}", value = "content", configuration = RequestDropboxAPIConfig.class)
public interface ContentClientFeign {

	@PostMapping(path = "/files/upload", consumes = MediaType.APPLICATION_OCTET_STREAM_VALUE, produces = MediaType.APPLICATION_JSON_VALUE )
	ContentUploadResponse upload(@RequestBody byte[] data, @RequestHeader Map<String, String> headers);

	@PostMapping(path = "/files/download",  consumes = MediaType.APPLICATION_OCTET_STREAM_VALUE, produces = MediaType.APPLICATION_OCTET_STREAM_VALUE )
	CustomInputStream download(@RequestHeader Map<String, String> headers);

}






