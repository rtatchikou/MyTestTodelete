package com.lyncwork.services.dropbox.client.dropbox.client.teamfolder;

import com.lyncwork.services.dropbox.client.dropbox.config.RequestDropboxAPIConfig;
import com.lyncwork.services.dropbox.client.dropbox.model.request.teamfolder.create.CreateTeamFolderRequest;
import com.lyncwork.services.dropbox.client.dropbox.model.request.teamfolder.list.ListFolderRequest;
import com.lyncwork.services.dropbox.client.dropbox.model.response.teamfolder.create.CreateTeamFolderResponse;
import com.lyncwork.services.dropbox.client.dropbox.model.response.teamfolder.list.ListFolderResponse;
import org.springframework.cloud.openfeign.FeignClient;
import org.springframework.http.MediaType;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestHeader;

import java.util.Map;

@FeignClient(url = "${dropbox.api.url}", value = "files", configuration = RequestDropboxAPIConfig.class)
public interface FilesClientFeign {

	@PostMapping(path = "/files/create_folder_v2", consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE )
	CreateTeamFolderResponse createTeamFolder(@RequestBody CreateTeamFolderRequest request, @RequestHeader Map<String, ?> headers);

	@PostMapping(path = "/files/list_folder", consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE )
	ListFolderResponse listFolder(@RequestBody ListFolderRequest request,@RequestHeader Map<String, ?> headers);
}

