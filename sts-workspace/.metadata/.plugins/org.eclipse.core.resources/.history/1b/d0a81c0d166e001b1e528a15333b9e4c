package com.lyncwork.services.dropbox.client.dropbox.client.auth;

import com.lyncwork.services.dropbox.client.dropbox.config.AuthConfig;
import com.lyncwork.services.dropbox.client.dropbox.model.response.AuthTokenResponse;
import org.springframework.cloud.openfeign.FeignClient;
import org.springframework.http.MediaType;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestBody;

import java.util.Map;


@FeignClient(url = "${dropbox.oauth.token.url}", value = "auth", configuration = AuthConfig.class)
public interface AuthClient {

    @PostMapping(consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE, produces = MediaType.APPLICATION_JSON_VALUE )
    AuthTokenResponse getAccessToken(@RequestBody Map<String, ?> request);

    @PostMapping(consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE, produces = MediaType.APPLICATION_JSON_VALUE )
    AuthTokenResponse refreshToken(@RequestBody Map<String, ?> request);

}